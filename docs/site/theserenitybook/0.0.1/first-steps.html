<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Steps with Serenity BDD :: The Serenity BDD Book</title>
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">The Serenity BDD Book</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <a class="navbar-item" href="https://github.com/serenity-bdd/serenity-core/issues">Issues</a>
        <a class="navbar-item" href="https://github.com/serenity-bdd/serenity-core">Source Code on Github</a>
        <a class="navbar-item" href="https://johnfergusonsmart.com/serenity-bdd-mentoring/">Serenity Support</a>
        <a class="navbar-item" href="https://serenitydojo.teachable.com">Serenity Online Training</a>

        <!-- <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div> -->
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="theserenitybook" data-version="0.0.1">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">The Serenity Book</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Serenity BDD Fundamentals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Introduction to Serenity BDD</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="first-steps.html">First Steps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="step-libraries.html">Working with Step Libraries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Testing Web Applications</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="angularjs.html">Testing AngularJS applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">The Screenplay Pattern</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="serenity-screenplay-rest.html">REST API Tesing with Screenplay</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Reporting and Living documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="living-documentation.html">Living Documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="glossary.adoc">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Serenity Book</span>
    <span class="version">0.0.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">The Serenity Book</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">The Serenity Book</a></li>
    <li class="crumb">Serenity BDD Fundamentals</li>
    <li class="crumb"><a href="first-steps.html">First Steps</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/serenity-bdd/the-serenity-book/edit/master/modules/ROOT/pages/first-steps.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>First Steps with Serenity BDD</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we will help you get going with your first Serenity BDD project. We will be using the simplest of all Serenity BDD setups - Serenity with pure JUnit. Later on, you will learn how to use Serenity with BDD tools like Cucumber and JBehave, and also the powerful Screenplay plugin. But let&#8217;s start with something simple.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_you_need_to_start"><a class="anchor" href="#_what_you_need_to_start"></a>What you need to start</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_java_8"><a class="anchor" href="#_java_8"></a>Java 8</h3>
<div class="paragraph">
<p>Test Automation is a development activity, so you will need some familiarity with Java. Serenity BDD uses Java 8, so make sure you have a [JDK 1.8 or later](<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" class="bare">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>) installed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_an_integrated_development_environment"><a class="anchor" href="#_an_integrated_development_environment"></a>An Integrated Development Environment</h3>
<div class="paragraph">
<p>You will need a modern IDE to work with Java. We recommend IntelliJ (you can download the Community Edition, which is free, [from here](<a href="https://www.jetbrains.com/idea/download" class="bare">https://www.jetbrains.com/idea/download</a>). But Eclipse will work fine as well.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_build_tool"><a class="anchor" href="#_a_build_tool"></a>A Build Tool</h3>
<div class="paragraph">
<p>You will also need a build tool, either Gradle or Maven, to run your tests and generate your reports. Make sure you have either [Gradle 3.x or higher](<a href="http://www.gradle.org/downloads" class="bare">http://www.gradle.org/downloads</a>) or [Maven 3.3.x or higher](<a href="https://maven.apache.org/download.cgi" class="bare">https://maven.apache.org/download.cgi</a>) installed.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The quickest way to create a new project is to take one of the starter projects on Github. You can find the starter project for JUnit at [<a href="https://github.com/serenity-bdd/serenity-junit-starter" class="bare">https://github.com/serenity-bdd/serenity-junit-starter</a>](<a href="https://github.com/serenity-bdd/serenity-junit-starter" class="bare">https://github.com/serenity-bdd/serenity-junit-starter</a>).</p>
</div>
<div class="paragraph">
<p>You can clone this repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git clone https://github.com/serenity-bdd/serenity-junit-starter.git
cd serenity-junit-starter</pre>
</div>
</div>
<div class="paragraph">
<p>Or simply [download a zip file from here](<a href="https://github.com/serenity-bdd/serenity-junit-starter/archive/master.zip" class="bare">https://github.com/serenity-bdd/serenity-junit-starter/archive/master.zip</a>).</p>
</div>
<div class="paragraph">
<p>If you are using Maven, you can also create a new project using one of the Serenity [Maven Archetypes](<a href="https://maven.apache.org/guides/introduction/introduction-to-archetypes.html" class="bare">https://maven.apache.org/guides/introduction/introduction-to-archetypes.html</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_so_far_so_good"><a class="anchor" href="#_so_far_so_good"></a>So far so good?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The starter project comes with a demo test that you can run. From the command line, run either</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn clean verify</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$gradle clean test</pre>
</div>
</div>
<div class="paragraph">
<p>This should produce something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gradle clean test
Starting a Gradle Daemon (subsequent builds will be faster)

&gt; Task :test

starter.ASimpleTest STANDARD_OUT
    07:45:30.512 [Test worker] INFO  net.serenitybdd.core.Serenity -

    -----------------------------------------------------------------------
         _______. _______ .______       _______ .__   __.  __  .___________
        /       ||   ____||   _  \     |   ____||  \ |  | |  | |
       |   (----`|  |__   |  |_)  |    |  |__   |   \|  | |  | `---|  |----
        \   \    |   __|  |      /     |   __|  |  . `  | |  |     |  |
    .----)   |   |  |____ |  |\  \----.|  |____ |  |\   | |  |     |  |
    |_______/    |_______|| _| `._____||_______||__| \__| |__|     |__|


     News and tutorials at http://www.serenity-bdd.info
     Documentation at https://wakaleo.gitbooks.io/the-serenity-book/content
     Join the Serenity Community on Rocket Chat
         at https://serenity-bdd.rocket.chat
     Serenity BDD Support and Training
         at http://serenity-bdd.info/#/trainingandsupport
     Learn Serenity BDD online at http://serenity-dojo.com
    -----------------------------------------------------------------------

    07:45:30.540 [Test worker] INFO  net.serenitybdd.core.Serenity - Test Suite Started: A simple test
    07:45:30.737 [Test worker] INFO  net.serenitybdd.core.Serenity -
     _____ _____ ____ _____   ____ _____  _    ____ _____ _____ ____
    |_   _| ____/ ___|_   _| / ___|_   _|/ \  |  _ \_   _| ____|  _ \
      | | |  _| \___ \ | |   \___ \ | | / _ \ | |_) || | |  _| | | | |
      | | | |___ ___) || |    ___) || |/ ___ \|  _ &lt; | | | |___| |_| |
      |_| |_____|____/ |_|   |____/ |_/_/   \_\_| \_\|_| |_____|____/


    TEST STARTED: addingSums
    -------------------------------------------------------------------
    07:45:30.737 [Test worker] INFO  net.serenitybdd.core.Serenity - TEST NUMBER: 1
    07:45:30.738 [Test worker] INFO  net.serenitybdd.core.Serenity - TEST PENDING
    07:45:30.766 [Test worker] INFO  net.serenitybdd.core.Serenity -
    -----------------------------------------------------------------------
              __  _____ _____ ____ _____   ____  _____ _   _ ____ ___ _   _
     _       / / |_   _| ____/ ___|_   _| |  _ \| ____| \ | |  _ \_ _| \ |
    (_)____ / /    | | |  _| \___ \ | |   | |_) |  _| |  \| | | | | ||  \|
     |_____/ /     | | | |___ ___) || |   |  __/| |___| |\  | |_| | || |\
    (_)   /_/      |_| |_____|____/ |_|   |_|   |_____|_| \_|____/___|_| \_


    TEST PENDING: Adding sums
    -----------------------------------------------------------------------

&gt; Task :aggregate
Generating Serenity Reports for serenity-junit-starter to directory /Users/john/Projects/OpenSource/serenity-junit-starter/target/site/serenity


BUILD SUCCESSFUL in 14s
6 actionable tasks: 6 executed</pre>
</div>
</div>
<div class="paragraph">
<p>Take a look in the <code>target/site/serenity</code> directory. You should find an index.html file, which will be the home page of the Serenity Reports</p>
</div>
<div id="fig-aggregate-report" class="imageblock">
<div class="content">
<img src="_images/junit-starter-report.png" alt="junit starter report">
</div>
<div class="title">Figure 1. An aggregate report generated by Serenity</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_project_structure"><a class="anchor" href="#_the_project_structure"></a>The project structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now import the project into your IDE (be sure to import the project as a Maven or Gradle project). The project structure looks something like this (some less interesting files and directories have been left out):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>├── pom.xml                                 <i class="conum" data-value="1"></i><b>(1)</b>
├── build.gradle                            <i class="conum" data-value="2"></i><b>(2)</b>
├── src
|   ├── main
|   ├── test                                <i class="conum" data-value="3"></i><b>(3)</b>
|       ├── java
|           ├── starter                     <i class="conum" data-value="4"></i><b>(4)</b>
|               ├── ASimpleTest.java        <i class="conum" data-value="5"></i><b>(5)</b>
|               ├── steps                   <i class="conum" data-value="6"></i><b>(6)</b>
|                   ├── MathWizSteps.java   <i class="conum" data-value="7"></i><b>(7)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Maven POM file</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Gradle build script</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Test code</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Root package</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>A sample test case</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Step library package</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>A sample step library</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_your_first_test"><a class="anchor" href="#_your_first_test"></a>Your first test</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may have noticed that the test we just ran was marked as "PENDING". This means that this test is still work-in-progress, and hasn&#8217;t been completed yet. That&#8217;s why the reports appear as light blue (Serenity&#8217;s colour for pending tests), and not green.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s start out by making this test pass.</p>
</div>
<div class="sect2">
<h3 id="_a_simple_serenity_test_class"><a class="anchor" href="#_a_simple_serenity_test_class"></a>A simple Serenity test class</h3>
<div class="paragraph">
<p>Open up the <code>ASimpleTest.java</code> class and take a look. You should see something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@RunWith(SerenityRunner.class)          <i class="conum" data-value="1"></i><b>(1)</b>
public class ASimpleTest {

    @Steps                              <i class="conum" data-value="2"></i><b>(2)</b>
    MathWizSteps michael;

    @Test
    @Pending                            <i class="conum" data-value="3"></i><b>(3)</b>
    public void addingSums() {
        // Given
        michael.startsWith(1);

        // When
        michael.adds(2);

        // Then
        michael.shouldHave(3);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The SerenityRunner class tells JUnit that this is a Serenity test</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A Serenity step library</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This test is work-in-progress, so it won&#8217;t be executed yet</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Serenity tests try to describe a user&#8217;s journey through the application, and the outcome that we expect at the end of this journey. But we rarely interact directly with the application within the test. Interacting with an application directly within a test (for example, by making WebDriver calls or REST API calls) is a big testing anti-pattern as it leads to code duplication and code that is hard to maintain. It also makes it harder to understand what the feature or requirement the test is checking.</p>
</div>
<div class="paragraph">
<p>So instead, our tests model the user journey at a higher level. We describe the system user and the actions he or she takes. So in this case, we describe how our system user, Michael, performs a complex calculation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>He starts with a value of 1</p>
</li>
<li>
<p>He adds 2</p>
</li>
<li>
<p>We expect him to find a result of 3</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>At this level, we are not concerned with where he gets the calculator, what web page he navigates to or what REST-API calls he makes. We are only interested in his high-level actions. This helps make our tests more readable and easier to maintain.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Later on, you will learn how to model user journeys an an even more flexible manner using the Screenplay pattern.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To achieve this layering, we use <em>step libraries</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_serenity_step_library"><a class="anchor" href="#_a_serenity_step_library"></a>A Serenity step library</h3>
<div class="paragraph">
<p>The <code>MathWizSteps</code> class is what we call a <em>step library</em>. Step Libraries in Serenity are where we model the behaviour of our users. Tests model how a user interacts with our system, and the step libraries typically model how a particular user does a particular job. In this case, our user (Michael) is a maths wiz doing some complex calculations.</p>
</div>
<div class="paragraph">
<p>Notice how the step library field (<code>michael</code>) is annotated with the <code>@Steps</code> annotation. This tells Serenity to inject the step library into the test. We never create instances of the step libraries ourselves, as Serenity needs to instrument the step libraries so that the methods we call (like <code>startsWith</code>, <code>add</code>, and <code>shouldHave</code>) appear in our reports. But more on that later.</p>
</div>
<div class="paragraph">
<p>Open up the MathWizSteps.class. You should see something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MathWizSteps {

    String actor;                               <i class="conum" data-value="1"></i><b>(1)</b>

    @Step("#actor starts with {0}")             <i class="conum" data-value="2"></i><b>(2)</b>
    public void startsWith(int amount) {
        // TODO
    }

    @Step("#actor adds {0}")
    public void adds(int amount) {
        // TODO
    }

    @Step("#actor should have {0}")
    public void shouldHave(int expectedTotal) {
        // TODO
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of this step actor</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>How this step will appear in the reports</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see, it is a rather ordinary looking class, but with a couple of additions.</p>
</div>
<div class="paragraph">
<p>Firstly, there is the <code>actor</code> field. The <code>actor</code> field is an optional field that you can add to your step libraries. If you do, Serenity will pass in the name of the variable (so <code>michael</code> in this case) into the step library.</p>
</div>
<div class="paragraph">
<p>Secondly, each method has a <code>@Step</code> annotation. These tell Serenity to add a corresponding entry in the test report whenever this method is called.</p>
</div>
<div class="paragraph">
<p>The text in the annotation (such as "#actor starts with {0}") tells Serenity how to render the step. Any fields with the "#" prefix will be rendered (so <code>#actor</code> will be replaced by the value of the <code>actor</code> field). Any parameters can be reported using positional variables (<code>{0}</code> for the first parameter, {1} for the second, and so forth).</p>
</div>
<div class="paragraph">
<p>If you use the <code>@Step</code> annotation alone, Serenity will use the name of the method, in a more human-readable form, in the reports. For example, suppose you have the following step declaration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>@Step
public void adds(int amount) {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will be rendered as "adds: 2"</p>
</div>
</div>
<div class="sect2">
<h3 id="_make_the_test_fail"><a class="anchor" href="#_make_the_test_fail"></a>Make the test fail</h3>
<div class="paragraph">
<p>For the moment, these step methods are empty. Let&#8217;s fix that.</p>
</div>
<div class="paragraph">
<p>We&#8217;ll start with the first step, <code>startsWith()</code>. Let&#8217;s imagine the calculator API we would like to have. Update the start of the <code>MathWizSteps</code> class so it looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MathWizSteps {

    String actor;

    Calculator calculator;                      <i class="conum" data-value="1"></i><b>(1)</b>

    @Step("#actor starts with {0}")
    public void startsWith(int amount) {
        calculator = new Calculator(amount);    <i class="conum" data-value="2"></i><b>(2)</b>
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Add a new Calculator field</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a new calculator with a given amount</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The the <code>Calculator</code> class doesn&#8217;t exist (we are designing it here), so create a <code>Calculator</code> class in the <code>src/main/java/starter</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Calculator {
    private int total;

    public Calculator(int amount) {
        this.total = amount;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we can flesh out the <code>adds()</code> method in the <code>MathWizSteps</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Step("#actor adds {0}")
public void adds(int amount) {
    calculator.add(amount);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add the <code>add()</code> method to the <code>Calculator</code> class, but don&#8217;t implement it yet (we need to see the test fail before we can trust it when it passes):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Calculator {
    private int total;

    public Calculator(int amount) {
        this.total = amount;
    }

    public void add(int amount) {

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we need to implement the <code>shouldHave()</code> method. We will use AssertJ to make a simple assertion. The full class will now look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import net.thucydides.core.annotations.Step;
import static org.assertj.core.api.Assertions.assertThat;

public class MathWizSteps {

    String actor;

    Calculator calculator;

    @Step("#actor starts with {0}")
    public void startsWith(int amount) {
        calculator = new Calculator(amount);
    }

    @Step("#actor adds {0}")
    public void adds(int amount) {
        calculator.add(amount);
    }

    @Step("#actor should have {0}")
    public void shouldHave(int expectedTotal) {
        assertThat(calculator.getTotal()).isEqualTo(expectedTotal);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But we still need to implement the <code>getTotal()</code> method in our <code>Calculator</code> class. Add a method that returns 0 for now:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public int getTotal() {
    return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, remove the <code>@Pending</code> annotation from the class. This will tell Serenity to execute the test, and not skip it.Run the test again, using <code>mvn clean verify</code> or 'gradle clean test'. You should see a failing test like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>starter.ASimpleTest &gt; addingSums STANDARD_OUT
    08:47:25.760 [Test worker] INFO  net.serenitybdd.core.Serenity - Test Suite Started: A simple test
    08:47:25.836 [Test worker] INFO  net.serenitybdd.core.Serenity -
     _____ _____ ____ _____   ____ _____  _    ____ _____ _____ ____
    |_   _| ____/ ___|_   _| / ___|_   _|/ \  |  _ \_   _| ____|  _ \
      | | |  _| \___ \ | |   \___ \ | | / _ \ | |_) || | |  _| | | | |
      | | | |___ ___) || |    ___) || |/ ___ \|  _ &lt; | | | |___| |_| |
      |_| |_____|____/ |_|   |____/ |_/_/   \_\_| \_\|_| |_____|____/


    TEST STARTED: addingSums
    -------------------------------------------------------------------
    08:47:25.836 [Test worker] INFO  net.serenitybdd.core.Serenity - TEST NUMBER: 1

starter.ASimpleTest &gt; addingSums FAILED
    java.lang.AssertionError at ASimpleTest.java:25

starter.ASimpleTest STANDARD_OUT
    08:47:26.159 [Test worker] ERROR net.serenitybdd.core.Serenity -
               __  _____ _____ ____ _____   _____ _    ___ _     _____ ____
      _       / / |_   _| ____/ ___|_   _| |  ___/ \  |_ _| |   | ____|  _
     (_)_____| |    | | |  _| \___ \ | |   | |_ / _ \  | || |   |  _| | | |
      _|_____| |    | | | |___ ___) || |   |  _/ ___ \ | || |___| |___| |_|
     (_)     | |    |_| |_____|____/ |_|   |_|/_/   \_\___|_____|_____|____
              \_\

    TEST FAILED: Adding sums
    -----------------------------------------------------------------------
    08:47:26.239 [Test worker] ERROR net.serenitybdd.core.Serenity - TEST FAILED AT STEP Michael should have 3
    08:47:26.239 [Test worker] ERROR net.serenitybdd.core.Serenity - expected:&lt;[3]&gt; but was:&lt;[0]&gt;

1 test completed, 1 failed

&gt; Task :aggregate
Generating Serenity Reports for serenity-junit-starter to directory /Users/john/Projects/OpenSource/serenity-junit-starter/target/site/serenity


FAILURE: Build failed with an exception.</pre>
</div>
</div>
<div class="paragraph">
<p>This is good, because it means our test works. Now let&#8217;s make the test pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="_make_the_test_pass"><a class="anchor" href="#_make_the_test_pass"></a>Make the test pass</h3>
<div class="paragraph">
<p>Complete the <code>Calculator</code> class like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Calculator {
    private int total;

    public Calculator(int amount) {
        this.total = amount;
    }

    public void add(int amount) {
        total = total + amount;
    }

    public int getTotal() {
        return total;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now run the test again. With any luck, you should see the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>starter.ASimpleTest STANDARD_OUT
    08:50:05.156 [Test worker] INFO  net.serenitybdd.core.Serenity -
            __    _____ _____ ____ _____   ____   _    ____  ____  _____ __
      _     \ \  |_   _| ____/ ___|_   _| |  _ \ / \  / ___|/ ___|| ____|
     (_)_____| |   | | |  _| \___ \ | |   | |_) / _ \ \___ \\___ \|  _| | |
      _|_____| |   | | | |___ ___) || |   |  __/ ___ \ ___) |___) | |___| |
     (_)     | |   |_| |_____|____/ |_|   |_| /_/   \_\____/|____/|_____|__
            /_/

    TEST PASSED: Adding sums
    -----------------------------------------------------------------------</pre>
</div>
</div>
<div class="paragraph">
<p>Open the report in <code>target/site/serenity/index.html</code>. You should see something like this:</p>
</div>
<div id="fig-aggregate-report" class="imageblock">
<div class="content">
<img src="_images/passing-first-test.png" alt="passing first test">
</div>
<div class="title">Figure 2. An aggregate report generated by Serenity</div>
</div>
<div class="paragraph">
<p>Step into the test report by clicking on the "Adding sums" row. You should see a report like this, describing Michael&#8217;s calculation adventures:</p>
</div>
<div id="fig-aggregate-report" class="imageblock">
<div class="content">
<img src="_images/first-pasing-test-outcome.png" alt="first pasing test outcome">
</div>
<div class="title">Figure 3. An aggregate report generated by Serenity</div>
</div>
<div class="paragraph">
<p>If you have got this far, congratulations, you have just written your first Serenity BDD test!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Check out the sample code for this example on <a href="https://github.com/serenity-bdd/serenity-junit-starter/tree/first-steps-with-serenity">Github</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_personalise_the_starter_project"><a class="anchor" href="#_personalise_the_starter_project"></a>Personalise the starter project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have seen how a simple Serenity test works, we can get onto some serious work. First of all, make yourself at home. To personalise this project, just rename the <code>starter</code> package into one that represents the root package for your own project, and delete the sample test and step library.</p>
</div>
<div class="paragraph">
<p>In the next chapter, you will see how to write your first web test with Serenity.</p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
